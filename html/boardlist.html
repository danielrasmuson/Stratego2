<!-- @@@@@@@@@@@@@@@ -->
<!-- NEXT STEPS -->
<!-- @@@@@@@@@@@@@@@ -->
<!-- this is the one I'm thinking of -->
<!-- 

TODO create win function if 2
TODO the game wont end
TODO add combat and move pictures
TODO Secondary list of all pieces -Off to the side of the board
	•Add onclick handler to this list, then activate dot on all available squares
	•When dot is clicked, move piece from the side, to the board
	•If piece is on the board and you move another piece onto it they will swap position (slightly different if the original piece is on the side)
	•Once all pieces are placed, you will get a confirmation button, clicking on it would get you into the other file MAYBE
	
	NOTE: we were thinking about splitting setup and play into two separate files

-->

<!-- @@@@@@@@@@@@@@@ -->



<html>
<head>
	<title></title>
</head>
<body>

<div id="playingfield">
	<img src="../images/board.jpg" alt="board" id="board">
	<ul id="squareList">
		<li><img src="../images/pieces/blue1.png" id="blue1-0"></li>
		<li><img src="../images/pieces/blue2.png" id="blue2-1"></li>
		<li><img src="../images/pieces/blue3.png" id="blue3-2"></li>
		<li><img src="../images/pieces/blue3.png" id="blue3-3"></li>
		<li><img src="../images/pieces/blue4.png" id="blue4-4"></li>
		<li><img src="../images/pieces/blue4.png" id="blue4-5"></li>
		<li><img src="../images/pieces/blue4.png" id="blue4-6"></li>
		<li><img src="../images/pieces/blue5.png" id="blue5-7"></li>
		<li><img src="../images/pieces/blue5.png" id="blue5-8"></li>
		<li><img src="../images/pieces/blue5.png" id="blue5-9"></li>
		<li><img src="../images/pieces/blue5.png" id="blue5-10"></li>
		<li><img src="../images/pieces/blue6.png" id="blue6-11"></li>
		<li><img src="../images/pieces/blue6.png" id="blue6-12"></li>
		<li><img src="../images/pieces/blue6.png" id="blue6-13"></li>
		<li><img src="../images/pieces/blue6.png" id="blue6-14"></li>
		<li><img src="../images/pieces/blue7.png" id="blue7-15"></li>
		<li><img src="../images/pieces/blue7.png" id="blue7-16"></li>
		<li><img src="../images/pieces/blue7.png" id="blue7-17"></li>
		<li><img src="../images/pieces/blue7.png" id="blue7-18"></li>
		<li><img src="../images/pieces/blue8.png" id="blue8-19"></li>
		<li><img src="../images/pieces/blue8.png" id="blue8-20"></li>
		<li><img src="../images/pieces/blue8.png" id="blue8-21"></li>
		<li><img src="../images/pieces/blue8.png" id="blue8-22"></li>
		<li><img src="../images/pieces/blue8.png" id="blue8-23"></li>
		<li><img src="../images/pieces/blue9.png" id="blue9-24"></li>
		<li><img src="../images/pieces/blue9.png" id="blue9-25"></li>
		<li><img src="../images/pieces/blue9.png" id="blue9-26"></li>
		<li><img src="../images/pieces/blue9.png" id="blue9-27"></li>
		<li><img src="../images/pieces/blue9.png" id="blue9-28"></li>
		<li><img src="../images/pieces/blue9.png" id="blue9-29"></li>
		<li><img src="../images/pieces/blue9.png" id="blue9-30"></li>
		<li><img src="../images/pieces/blue9.png" id="blue9-31"></li>
		<li><img src="../images/pieces/blueSpy.png" id="blueSpy-32"></li>
		<li><img src="../images/pieces/blueFlag.png" id="blueFlag-33"></li>
		<li><img src="../images/pieces/blueBomb.png" id="blueBomb-34"></li>
		<li><img src="../images/pieces/blueBomb.png" id="blueBomb-35"></li>
		<li><img src="../images/pieces/blueBomb.png" id="blueBomb-36"></li>
		<li><img src="../images/pieces/blueBomb.png" id="blueBomb-37"></li>
		<li><img src="../images/pieces/blueBomb.png" id="blueBomb-38"></li>
		<li><img src="../images/pieces/blueBomb.png" id="blueBomb-39"></li>
		<li><div id="blankSquare-40"></div></li>
		<li><div id="blankSquare-41"></div></li>
		<li><div id="lakeSquare-42"></div></li>
		<li><div id="lakeSquare-43"></div></li>
		<li><div id="blankSquare-44"></div></li>
		<li><div id="blankSquare-45"></div></li>
		<li><div id="lakeSquare-46"></div></li>
		<li><div id="lakeSquare-47"></div></li>
		<li><div id="blankSquare-48"></div></li>
		<li><div id="blankSquare-49"></div></li>
		<li><div id="blankSquare-50"></div></li>
		<li><div id="blankSquare-51"></div></li>
		<li><div id="lakeSquare-52"></div></li>
		<li><div id="lakeSquare-53"></div></li>
		<li><div id="blankSquare-54"></div></li>
		<li><div id="blankSquare-55"></div></li>
		<li><div id="lakeSquare-56"></div></li>
		<li><div id="lakeSquare-57"></div></li>
		<li><div id="blankSquare-58"></div></li>
		<li><div id="blankSquare-59"></div></li>
		<li><img src="../images/pieces/redBack.png" id="red1-60"></li>
		<li><img src="../images/pieces/redBack.png" id="red2-61"></li>
		<li><img src="../images/pieces/redBack.png" id="red3-62"></li>
		<li><img src="../images/pieces/redBack.png" id="red3-63"></li>
		<li><img src="../images/pieces/redBack.png" id="red4-64"></li>
		<li><img src="../images/pieces/redBack.png" id="red4-65"></li>
		<li><img src="../images/pieces/redBack.png" id="red4-66"></li>
		<li><img src="../images/pieces/redBack.png" id="red5-67"></li>
		<li><img src="../images/pieces/redBack.png" id="red5-68"></li>
		<li><img src="../images/pieces/redBack.png" id="red5-69"></li>
		<li><img src="../images/pieces/redBack.png" id="red5-70"></li>
		<li><img src="../images/pieces/redBack.png" id="red6-71"></li>
		<li><img src="../images/pieces/redBack.png" id="red6-72"></li>
		<li><img src="../images/pieces/redBack.png" id="red6-73"></li>
		<li><img src="../images/pieces/redBack.png" id="red6-74"></li>
		<li><img src="../images/pieces/redBack.png" id="red7-75"></li>
		<li><img src="../images/pieces/redBack.png" id="red7-76"></li>
		<li><img src="../images/pieces/redBack.png" id="red7-77"></li>
		<li><img src="../images/pieces/redBack.png" id="red7-78"></li>
		<li><img src="../images/pieces/redBack.png" id="red8-79"></li>
		<li><img src="../images/pieces/redBack.png" id="red8-80"></li>
		<li><img src="../images/pieces/redBack.png" id="red8-81"></li>
		<li><img src="../images/pieces/redBack.png" id="red8-82"></li>
		<li><img src="../images/pieces/redBack.png" id="red8-83"></li>
		<li><img src="../images/pieces/redBack.png" id="red9-84"></li>
		<li><img src="../images/pieces/redBack.png" id="red9-85"></li>
		<li><img src="../images/pieces/redBack.png" id="red9-86"></li>
		<li><img src="../images/pieces/redBack.png" id="red9-87"></li>
		<li><img src="../images/pieces/redBack.png" id="red9-88"></li>
		<li><img src="../images/pieces/redBack.png" id="red9-89"></li>
		<li><img src="../images/pieces/redBack.png" id="red9-90"></li>
		<li><img src="../images/pieces/redBack.png" id="red9-91"></li>
		<li><img src="../images/pieces/redBack.png" id="redSpy-92"></li>
		<li><img src="../images/pieces/redBack.png" id="redFlag-93"></li>
		<li><img src="../images/pieces/redBack.png" id="redBomb-94"></li>
		<li><img src="../images/pieces/redBack.png" id="redBomb-95"></li>
		<li><img src="../images/pieces/redBack.png" id="redBomb-96"></li>
		<li><img src="../images/pieces/redBack.png" id="redBomb-97"></li>
		<li><img src="../images/pieces/redBack.png" id="redBomb-98"></li>
		<li><img src="../images/pieces/redBack.png" id="redBomb-99"></li>
	</ul>
</div>

<ul id="pieceHolder">
        <li><div id="blankSquare-0"></div></li>
		<li><div id="blankSquare-1"></div></li>
		<li><div id="blankSquare-2"></div></li>
		<li><div id="blankSquare-3"></div></li>
		<li><div id="blankSquare-4"></div></li>
		<li><div id="blankSquare-5"></div></li>
		<li><div id="blankSquare-6"></div></li>
		<li><div id="blankSquare-7"></div></li>
		<li><div id="blankSquare-8"></div></li>
		<li><div id="blankSquare-9"></div></li>
		<li><div id="blankSquare-10"></div></li>
		<li><div id="blankSquare-11"></div></li>
		<li><div id="blankSquare-12"></div></li>
		<li><div id="blankSquare-13"></div></li>
		<li><div id="blankSquare-14"></div></li>
		<li><div id="blankSquare-15"></div></li>
		<li><div id="blankSquare-16"></div></li>
		<li><div id="blankSquare-17"></div></li>
		<li><div id="blankSquare-18"></div></li>
		<li><div id="blankSquare-19"></div></li>
		<li><div id="blankSquare-20"></div></li>
		<li><div id="blankSquare-21"></div></li>
		<li><div id="blankSquare-22"></div></li>
		<li><div id="blankSquare-23"></div></li>
		<li><div id="blankSquare-24"></div></li>
		<li><div id="blankSquare-25"></div></li>
		<li><div id="blankSquare-26"></div></li>
		<li><div id="blankSquare-27"></div></li>
		<li><div id="blankSquare-28"></div></li>
		<li><div id="blankSquare-29"></div></li>
		<li><div id="blankSquare-30"></div></li>
		<li><div id="blankSquare-31"></div></li>
		<li><div id="blankSquare-32"></div></li>
		<li><div id="blankSquare-33"></div></li>
		<li><div id="blankSquare-34"></div></li>
		<li><div id="blankSquare-35"></div></li>
		<li><div id="blankSquare-36"></div></li>
		<li><div id="blankSquare-37"></div></li>
		<li><div id="blankSquare-38"></div></li>
		<li><div id="blankSquare-39"></div></li>
		<li><div id="blankSquare-40"></div></li>
		<li><div id="blankSquare-41"></div></li>
		<li><div id="blankSquare-42"></div></li>
		<li><div id="blankSquare-43"></div></li>
		<li><div id="blankSquare-44"></div></li>
		<li><div id="blankSquare-45"></div></li>
		<li><div id="blankSquare-46"></div></li>
		<li><div id="blankSquare-47"></div></li>
		<li><div id="blankSquare-48"></div></li>
		<li><div id="blankSquare-49"></div></li>
		<li><div id="blankSquare-50"></div></li>
		<li><div id="blankSquare-51"></div></li>
		<li><div id="blankSquare-52"></div></li>
		<li><div id="blankSquare-53"></div></li>
		<li><div id="blankSquare-54"></div></li>
		<li><div id="blankSquare-55"></div></li>
		<li><div id="blankSquare-56"></div></li>
		<li><div id="blankSquare-57"></div></li>
		<li><div id="blankSquare-58"></div></li>
		<li><div id="blankSquare-59"></div></li>
		<li><div id="blankSquare-60"></div></li>
		<li><div id="blankSquare-61"></div></li>
		<li><div id="blankSquare-62"></div></li>
		<li><div id="blankSquare-63"></div></li>
		<li><div id="blankSquare-64"></div></li>
		<li><div id="blankSquare-65"></div></li>
		<li><div id="blankSquare-66"></div></li>
		<li><div id="blankSquare-67"></div></li>
		<li><div id="blankSquare-68"></div></li>
		<li><div id="blankSquare-69"></div></li>
		<li><div id="blankSquare-70"></div></li>
		<li><div id="blankSquare-71"></div></li>
		<li><div id="blankSquare-72"></div></li>
		<li><div id="blankSquare-73"></div></li>
		<li><div id="blankSquare-74"></div></li>
		<li><div id="blankSquare-75"></div></li>
		<li><div id="blankSquare-76"></div></li>
		<li><div id="blankSquare-77"></div></li>
		<li><div id="blankSquare-78"></div></li>
		<li><div id="blankSquare-79"></div></li>
		<li><div id="blankSquare-80"></div></li>
</ul>

<!-- @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ -->
<!-- This is our CSS -->
<!-- @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ -->



<style type="text/css">
	body{
		margin-left: 0px;
		margin-top: 0px;
		padding-left: 0px;
		padding-top: 0px;
	}
	#board{
		width: 1000px;
		height: 1000px;
		margin-right: auto;
		margin-left: auto;
		z-index: -1;
		position: absolute;
	}
	#playingField{
		width: 1028px;
	}
	#playingField ul{
		list-style: none;
		padding-left: 0px;
		padding-left: 28px;
		margin-top: 0px;
	}
	#playingField ul li{
		
		/*padding-right: 50px;*/
		/*width: 100px;*/
		/*height: 100px;*/
		display: block;
		display: inline;
		padding-right: 52px;
		/*background-color: red;*/
	}
	#playingField ul li img{
		padding-left: 0px;
		padding-top: 15px;
		padding-bottom: 15px;
		width: 44px;
		height: 65px;
	}
	/*#blankSquare,
	#lakeSquare*/
	ul li div{
		padding-left: 0px;
		padding-top: 15px;
		padding-bottom: 15px;
		width: 44px;
		height: 65px;
		display: inline-block;
	}
	.moveCircle{
		background: #f00;
		border-radius: 50%;
		/*z-index: 5;*/
		position: absolute;
		padding-left: 50px;
		/*padding-top: -25px;*/
		-moz-transform:scale(0.35);
		-webkit-transform:scale(0.35);
		transform:scale(0.35);
		margin-left: -70px;
		margin-top: 0px;
		opacity: .5;
	}
	.moveCircleCombat{
		background: green;
		border-radius: 50%;
		/*z-index: 5;*/
		position: absolute;
		padding-left: 50px;
		/*padding-top: -25px;*/
		-moz-transform:scale(0.35);
		-webkit-transform:scale(0.35);
		transform:scale(0.35);
		margin-left: -70px;
		margin-top: 0px;
		opacity: .5;
	}
</style>

<!-- @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ -->
<!-- This is all Nates Code that he just pasted in -->
<!-- @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ -->

<script>
// within the list findout what list number the user clicked on
// -- waht are proposed soultion is -- from the element number we get from the ID red9-87
// for example 87 we then pull the elements around it to see what they are...
// the next questions would be how to we pull an element from its position in list into a variable

// var lItems = document.getElementsByTagName("ul").getElementsByTagName("li");
// lItems[2].innerHTML = "<a title='Two'>----NEW LIST ITEM CHANGED-----</a>";

// http://stackoverflow.com/questions/923025/how-to-select-2nd-li-element-using-javascript


// Retrieve the object from storage



function setupClick(){
    squareList.onclick=function(e){
		deleteAllDots();
        if(colorOfClick(e.target.id) == localStorage.getItem('turn')){
		    posmoves(e.target.id);
        }
	    else{
	        setupClick();
	    }
	}
}

window.onload=function(){

	// // ENABLE START GAME BUTTON RETRIEVE FROM SETUP.HTML
	//var setupResults = localStorage.getItem('testObject')
	//squareList.innerHTML = setupResults;

	flipSinglePiece("red5-67");
	localStorage.setItem('turn', "blue");
	/*squareList.onclick=function(e){
		deleteAllDots();
        if(colorOfClick(e.target.id) == localStorage.getItem('turn'))
		    posmoves(e.target.id);
	}*/
	setupClick();
}

function posmoves(pieceName){
	var name = pieceName.split("-")[0].replace("blue", "").replace("red", ""); //the name of the piece (Spy, Bomb, 9 etc..)
	var square = pieceName.split("-")[1]; //the position on the board
	square = parseInt(square, 10);
	var color = colorOfClick(pieceName);

	var squareList=document.getElementById('squareList');

	setupClick();
	//activateDot(33, 34); //we need to call in the the variables moveTo and moveFrom

	if (name == "Bomb" || name == "Flag" || name == "lakeSquare" || name == "blankSquare") 
		return; // if it's a piece that can't move

	if (name != "9") //movement for everything except 9
	{
		if (square % 10 != 9) // Move to the right
			checkstatus(square+1, color, square);
		if (square % 10 != 0) // Move to the left
			checkstatus(square-1, color, square);
		if (square - 10 >= 0) // Move up
			checkstatus(square-10, color, square);
		if (square + 10 < 100) //Move down
			checkstatus(square+10, color, square);
	}

	if (name == "9") // movement for 9
	{

		if (square % 10 != 9) //check to the right
			var checker0 = checkstatus(square+1, color, square);
			if (square+1 % 10 != 9 && checker0 == 1)
				recursive(square+2, "r", square);

		if (square % 10 != 0) //check to the left
			var checker1 = checkstatus(square-1, color, square);
			if (square-1 % 10 != 0 && checker1 == 1)
				recursive(square-2, "l", square);
			
		if (square - 10 > 0) //check up
			var checker2 = checkstatus(square-10, color, square);
			if (square - 20 > 0 && checker2 == 1)
				recursive(square-20, "u", square);

		if (square + 10 < 100) //check down
			var checker3 = checkstatus(square+10, color, square);
			if (square + 20 < 100 && checker3 == 1)
				recursive(square+20, "d", square);

	}
}

function colorOfClick(idname){
		if ((idname).indexOf("blue") != -1){
			return "blue";
		}
		else if ((idname).indexOf("red") != -1){
			return "red";
		}
		else{
			return "blank";
		}
	}

function checkstatus(squareNumber, color, movedFromSquare){
	var lItems = document.getElementById("squareList").getElementsByTagName("li");
	var currentSquare = (lItems[squareNumber].innerHTML).split('"').reverse()[1];

	var squareColor = colorOfClick(currentSquare); // Finds the color of the piece on this square

	if (currentSquare.split("-")[0] == "blankSquare")
		{
			activateDot(movedFromSquare, squareNumber, "blank");
			return 1;
		}
	else if(currentSquare.split("-")[0] == "lakeSquare")
		return;

	else if(color != squareColor) // If the color of the piece being moved is different from the color of the piece on the square
		activateDot(movedFromSquare, squareNumber, "combat");
//#

}

function activateDot(movedFromSquare, movedToSquare, type){
	var lItems = document.getElementById("squareList").getElementsByTagName("li");
	var currentHTML = lItems[movedToSquare].innerHTML;
	if (type == "combat")
		var newHTML = currentHTML+'<div class="moveCircleCombat" id="listenForClick'+movedToSquare+'"></div>';
	else if (type == "blank")
		var newHTML = currentHTML+'<div class="moveCircle" id="listenForClick'+movedToSquare+'"></div>';
	lItems[movedToSquare].innerHTML = newHTML;
	var lItems = document.getElementById("squareList").getElementsByTagName("li");
	
	document.getElementById("listenForClick"+movedToSquare).onclick = function(){
		dotClicked(movedFromSquare, movedToSquare);
	}

}
function sleep(milliseconds) {
  var start = new Date().getTime();
  for (var i = 0; i < 1e7; i++) {
    if ((new Date().getTime() - start) > milliseconds){
      break;
    }
  }
}

function dotClicked(movedFromSquare, movedToSquare){
	var lItems = document.getElementById("squareList").getElementsByTagName("li");
	var movedFromHTML = lItems[movedFromSquare].innerHTML;
	var squareID1 = (lItems[movedFromSquare].innerHTML).split(">")[0].split('"').reverse()[1]; // gets the id
	var pieceA = squareID1.split("-")[0].replace("blue", "").replace("red", ""); // gets the name from the id

	var squareID2 = (lItems[movedToSquare].innerHTML).split(">")[0].split('"').reverse()[1]; // gets the id
	var pieceB = squareID2.split("-")[0].replace("blue", "").replace("red", ""); // gets the name from the id

	var result = combat(pieceA, pieceB);
	//-1 do nothing 
	if(result != 3)
	{
		alert(squareID2)
	    flipSinglePiece(squareID2);
	    alert("RAAAAAHHHAHAHAHAHHHHHAAHHHHH");
	}
	//3 is for when you attack a blank square
	if (result == 1 || result == 3){
		//1. Replace the and then paste it into the spot in the list it needs to go
        
		// <img src="../images/pieces/red8.png" id="red8-81">
		var pieceIDNumber = parseInt(movedFromHTML.split("-")[1].split('"')[0], 10);
		var colorAndStuff = movedFromHTML.split("=")[2].replace('"',"").split('-')[0]+"-";
		// alert(colorAndStuff);
		var newPieceNumber = pieceIDNumber; // 
		var innerHTMLList = movedFromHTML.split('"')

		newHTMLInner = (innerHTMLList[0]+'"'+innerHTMLList[1]+'"'+innerHTMLList[2]+'"'+colorAndStuff+movedToSquare+'">');
		//
		lItems[movedToSquare].innerHTML = newHTMLInner; // 
	}

	else if (result == 0)
		lItems[movedToSquare].innerHTML = '<div id="blankSquare-'+movedToSquare+'">'

	else if (result == 2){ //End the game (Call an endgame(playerX) function)
		alert("Game!");
		// lItems[movedFromSquare].innerHTML = '<div id="blankSquare-'+movedFromSquare+'">'; 
		// deleteAllDots();
	}
	
	lItems[movedFromSquare].innerHTML = '<div id="blankSquare-'+movedFromSquare+'">'; // blank square leaving piece
	deleteAllDots();
	var currentTurn = localStorage.getItem('turn');
	if(currentTurn == "blue"){
	    localStorage.setItem('turn', "red");
	}
	else{localStorage.setItem('turn', "blue");}

	
	if(colorOfClick(squareID1) == "blue"){
	    if (result == 1)
		{
		    flipSinglePiece(squareID1);
		}
		flipPieces("blue");
		
		sleep(10);
		alert("switch people");
		if (result == 1)
		{
		    flipSinglePiece(squareID1);
		}
		flipPieces("red");
		if (result == -1)
		{
		    flipSinglePiece(squareID2);
		}
	}

	else if(colorOfClick(squareID1) == "red"){
	    if (result == 1)
		{
		    flipSinglePiece(squareID1);
		}
		flipPieces("red");
		
		sleep(10);
		alert("switch people");
		if (result == 1)
		{
		    flipSinglePiece(squareID1);
		}
		flipPieces("blue");
		if (result == -1)
		{
		    flipSinglePiece(squareID2);
		}
	}

	var squareList=document.getElementById('squareList');


	setupClick();



}
//
// --- different if its combat 
// --- 

function recursive(movedToSquare, direction, movedFromSquare){
	var lItems = document.getElementById("squareList").getElementsByTagName("li");
	var currentSquare = (lItems[movedToSquare].innerHTML).split('"').reverse()[1];

	if (currentSquare.split("-")[0] == "blankSquare"){
			activateDot(movedFromSquare, movedToSquare, "blank");
			switch(direction){
				case "l":
					if (movedToSquare % 10 != 0)
						recursive(movedToSquare-1, "l", movedFromSquare);
					break;

				case "r":
					if(movedToSquare % 10 != 9)
						recursive(movedToSquare+1,"r", movedFromSquare);
					break;

				case "d":
					if(movedToSquare + 10 < 100)
						recursive(movedToSquare+10, "d", movedFromSquare)
					break;

				case "u":
					if(movedToSquare - 10 > 0)
						recursive(movedToSquare-10, "u", movedFromSquare)
					break;
			}
		}
	else
	return;	
}	


function combat(a, b){ //a is the attacking piece, if a wins the function returns 1, if b wins it returns -1, otherwise returns 0 if they tie both die, or 2 if its a flag
	if (a == b) //If they tie
		return 0; 

    if (b == "blankSquare")
		return 3;

	if (a == "Spy") //If the spy attacks
		if(b == "1") // and it hits the 1
			return 1; // the spy wins
		else 
		    return -1;
	
	if(b == "Spy")
		return 1;

	if(b == "Bomb")
		if(a == "8")
			return 1;
		else
			return -1;

	if(b == "Flag")
		return 2;

	if(parseInt(a, 10) < parseInt(b, 10)) // checks to see if both strings are ints
		return 1; // if a's number is less than b's
	else
		return -1; 

}


//a function to switch the backs of the pieces
function flipPieces(color){
	var lines = document.getElementById("squareList").getElementsByTagName("li");
	// var currentSquare = (lItems[squareNumber].innerHTML).split('"').reverse()[1];

	for (var i = 0; i < 100; i++){
		var line = lines[i].innerHTML;
		if (line.indexOf(color) != -1){
			if (line.indexOf(color+"Back") != -1){
				//change to pieceIMG
				var lineID = line.split("-")[0].split('id="')[1]
				lines[i].innerHTML = line.replace(new RegExp('/(.*)png','g'),"/images/pieces/"+lineID+".png");
			}
			else{
				// change to backIMG
				lines[i].innerHTML = line.replace(new RegExp('/(.*)png','g'),"/images/pieces/"+color+"Back.png");
			}
		}
	}
}

//a function to switch the backs of the pieces
function flipSinglePiece(pieceName){
	var lines = document.getElementById("squareList").getElementsByTagName("li");
	// var currentSquare = (lItems[squareNumber].innerHTML).split('"').reverse()[1];

	for (var i = 0; i < 100; i++){
		var line = lines[i].innerHTML;
		if (line.indexOf(pieceName) != -1){
			// get the color of the piece
			if (pieceName.indexOf("red") != -1)
				{var color = "red";} 
			else{var color = "blue";} 

			if (line.indexOf(color+"Back") != -1){
				//change to pieceIMG
				var lineID = line.split("-")[0].split('id="')[1]
				lines[i].innerHTML = line.replace(new RegExp('/(.*)png','g'),"/images/pieces/"+lineID+".png");
			}
			else{
				// change to backIMG
				lines[i].innerHTML = line.replace(new RegExp('/(.*)png','g'),"/images/pieces/"+color+"Back.png");
			}
		}
	}
}



function deleteAllDots(){
	var allHTML = document.documentElement.innerHTML;
	cleanedHTML = allHTML.replace(new RegExp('(<div class="moveCircle" id="listenForClick.."></div>)|(<div class="moveCircle" id="listenForClick."></div>)|(<div class="moveCircleCombat" id="listenForClick.."></div>)|(<div class="moveCircleCombat" id="listenForClick."></div>)','g'),"");
	document.documentElement.innerHTML = cleanedHTML;

	}

//change
</script>
</body>
</html>